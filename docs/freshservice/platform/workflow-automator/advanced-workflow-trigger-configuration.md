---
sidebar_position: 6
---

# 고급 워크플로우 트리거 구성

워크플로우 트리거는 자동화 프로세스의 시작점으로, 적절한 트리거 구성은 효과적인 자동화의 핵심입니다. 이 문서는 Freshservice에서 고급 워크플로우 트리거를 구성하는 방법과 모범 사례를 제공합니다.

:::info 주요 정보
- 이 기능을 사용하기 전에 필요한 권한과 설정을 확인하세요
- 단계별 접근을 통해 안정적으로 구현하는 것을 권장합니다
:::


## 트리거 유형 이해

### 이벤트 기반 트리거

#### 생성 이벤트
- **티켓 생성**: 새 티켓이 생성될 때 자동 실행
- **자산 생성**: 새 자산이 등록될 때 실행
- **변경 요청 생성**: 새로운 변경 요청 제출 시 실행
- **사용자 생성**: 새 사용자 계정 생성 시 실행

#### 업데이트 이벤트
- **상태 변경**: 티켓, 변경, 문제 등의 상태 변경 시 실행
- **우선순위 변경**: 우선순위 수정 시 자동 실행
- **담당자 변경**: 담당자 할당 또는 재할당 시 실행
- **필드 값 변경**: 특정 사용자 정의 필드 값 변경 시 실행

### 시간 기반 트리거

#### 스케줄링된 트리거
- **정기적 실행**: 매일, 매주, 매월 특정 시간에 실행
- **비즈니스 시간**: 업무 시간 내에만 실행되는 트리거
- **타임존 고려**: 다국적 조직의 지역별 시간대 적용
- **휴일 제외**: 공휴일과 휴무일 제외 설정

#### 지연 기반 트리거
- **SLA 기반**: SLA 마감 시간 기준으로 실행
- **조건부 지연**: 특정 조건이 충족될 때까지 대기 후 실행
- **에스컬레이션**: 일정 시간 경과 후 자동 에스컬레이션

## 고급 조건 설정

### 복합 조건

#### AND 조건
```
티켓 우선순위  = '긴급' 
AND 
담당 그룹  = 'IT 지원팀'
AND 
생성 시간 &gt; 업무 시간 외
```

#### OR 조건
```
티켓 카테고리  = '하드웨어' 
OR 
티켓 카테고리  = '소프트웨어'
OR 
티켓 카테고리  = '네트워크'
```

### 동적 조건

#### 상대적 날짜 조건
- **오늘 기준**: 오늘로부터 N일 전/후
- **월 기준**: 이번 달, 지난 달, 다음 달
- **분기 기준**: 현재 분기, 이전 분기 등

#### 사용자 컨텍스트 조건
- **역할 기반**: 사용자 역할에 따른 조건 설정
- **부서 기반**: 사용자 소속 부서에 따른 조건
- **위치 기반**: 사용자 위치에 따른 조건

## 성능 최적화

### 효율적인 조건 순서

#### 선택성 높은 조건 우선
가장 많은 데이터를 필터링할 수 있는 조건을 먼저 배치:
1. 인덱스된 필드 조건
2. 제한적인 값 범위를 가진 조건
3. 계산이 단순한 조건

#### 계산 비용 고려
- **간단한 비교**: 등호( = ), 부등호(&lt;, &gt;) 연산 우선
- **복잡한 연산**: 정규식, 문자열 함수 등은 필요시에만 사용
- **외부 데이터**: API 호출이 필요한 조건은 최소화

### 트리거 빈도 관리

#### 중복 실행 방지
- **쿨다운 기간**: 동일한 조건에서 반복 실행 방지
- **상태 체크**: 이미 처리된 항목에 대한 재실행 방지
- **배치 처리**: 여러 개의 개별 트리거를 하나로 통합

## 특수 시나리오

### 다단계 승인 프로세스

#### 조건부 승인 체인
```
1단계: 부서장 승인 (금액 &lt; 100만원)
2단계: 이사 승인 (금액 &lt; 500만원)
3단계: 임원 승인 (금액 &gt; =  500만원)
```

#### 병렬 승인
```
동시 승인 필요:
- 기술 담당자 승인
- 보안 담당자 승인
- 예산 담당자 승인
```

### 에스컬레이션 메커니즘

#### 시간 기반 에스컬레이션
- **1차 에스컬레이션**: 2시간 후 팀장에게 알림
- **2차 에스컬레이션**: 4시간 후 부서장에게 알림
- **3차 에스컬레이션**: 8시간 후 임원에게 알림

#### 조건부 에스컬레이션
- **우선순위별**: 긴급 티켓은 30분, 일반 티켓은 4시간
- **고객별**: VIP 고객은 더 빠른 에스컬레이션
- **영향도별**: 높은 영향도는 즉시 에스컬레이션

## 트러블슈팅

### 일반적인 문제

#### 트리거가 실행되지 않는 경우
1. **조건 검증**: 설정된 조건이 실제로 만족되는지 확인
2. **권한 확인**: 워크플로우 실행 권한이 적절한지 검증
3. **활성 상태**: 워크플로우가 활성화되어 있는지 확인

#### 중복 실행 문제
1. **트리거 조건 검토**: 너무 광범위한 조건 설정 여부 확인
2. **실행 로그 분석**: 어떤 이벤트가 트리거를 발생시키는지 분석
3. **예외 조건 추가**: 이미 처리된 항목 제외 조건 추가

### 디버깅 기법

#### 로그 분석
- **실행 히스토리**: 워크플로우 실행 기록 검토
- **조건 평가**: 각 조건의 참/거짓 결과 확인
- **타이밍 분석**: 트리거 발생 시점과 실행 시점 비교

#### 테스트 시나리오
- **최소 조건**: 가장 단순한 조건으로 테스트
- **경계값 테스트**: 조건의 경계값에서 동작 확인
- **부하 테스트**: 대량 데이터에서의 성능 확인

## 모니터링 및 최적화

### 성능 모니터링

#### 주요 메트릭
- **실행 빈도**: 시간당 트리거 실행 횟수
- **실행 시간**: 평균 워크플로우 실행 시간
- **성공률**: 정상 완료된 실행의 비율
- **오류율**: 실패한 실행의 비율

#### 알림 설정
- **실행 실패**: 워크플로우 실행 실패 시 즉시 알림
- **성능 저하**: 실행 시간이 평균보다 현저히 느릴 때 알림
- **빈도 이상**: 비정상적으로 높은 실행 빈도 감지 시 알림

### 지속적 개선

#### 정기적 검토
- **월간 리뷰**: 트리거 성능 및 효과성 검토
- **조건 최적화**: 더 효율적인 조건으로 개선
- **불필요한 트리거 제거**: 사용되지 않는 트리거 정리

#### 사용자 피드백
- **만족도 조사**: 자동화된 프로세스에 대한 사용자 만족도
- **개선 요청**: 사용자의 추가 자동화 요청 수렴
- **오류 신고**: 사용자가 발견한 문제점 수집

## 베스트 프랙티스

### 설계 원칙

#### 명확한 목적
- **단일 책임**: 하나의 트리거는 하나의 명확한 목적
- **비즈니스 가치**: 실제 비즈니스 가치를 제공하는 자동화
- **사용자 중심**: 최종 사용자의 편의성 고려

#### 유지보수성
- **명확한 이름**: 트리거와 조건에 설명적인 이름 부여
- **문서화**: 트리거의 목적과 동작 방식 문서화
- **버전 관리**: 변경 이력 관리 및 롤백 계획

### 보안 고려사항

#### 접근 제어
- **최소 권한**: 필요한 최소한의 권한으로 실행
- **민감 데이터**: 개인정보나 기밀 정보 처리 시 주의
- **감사 추적**: 모든 실행에 대한 완전한 로그 기록

## 결론

고급 워크플로우 트리거 구성은 효과적인 자동화의 핵심입니다. 적절한 조건 설정, 성능 최적화, 그리고 지속적인 모니터링을 통해 비즈니스 프로세스를 크게 개선할 수 있습니다. 이러한 모범 사례를 따라 더 지능적이고 효율적인 워크플로우를 구축하시기 바랍니다.